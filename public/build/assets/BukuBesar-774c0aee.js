import{r as l,P as M,j as e,f as u}from"./app-8a2a51c8.js";import{S as p}from"./SelectSearch-c2539244.js";import{A as E}from"./AdminLayout-96d458bc.js";import{l as m}from"./lodash-aaf2e0ec.js";import{M as U}from"./ModalCetakLaporan-dd298446.js";import{u as C}from"./usePrevious-2581348e.js";import"./react-select.esm-5d079b1e.js";import"./emotion-element-c39617d8.browser.esm-49af1451.js";import"./bundle-mjs-11609d99.js";import"./NotificationDropdown-3e1ff87d.js";import"./ResponsiveNavLink-42824ad3.js";import"./MenuItem-d7945933.js";import"./Modal-8b6796a7.js";import"./transition-211cf23e.js";import"./use-flags-4a318b95.js";import"./dialog-43e39db9.js";import"./active-element-history-2e379daf.js";import"./description-9728843f.js";import"./module-15f622ee.js";const ee=({bukubesars:{data:i,next_page_url:x,prev_page_url:f},akunopts:r,periodOpts:n,akun_id:g,period:j,media:w})=>{const[a,o]=l.useState({akun_id:g,period:j,media:w}),v=C(a),d=r.find(t=>t.value==a.akun_id),c=n.find(t=>t.value==a.period),[N,b]=l.useState(d||null),[y,k]=l.useState(c||null),[S,h]=l.useState(!1),[B,P]=l.useState();l.useEffect(()=>{if(v){const t=Object.keys(m.pickBy(a)).length?m.pickBy(a):{};M.get(route(route().current()?route().current()+"":""),t,{replace:!0,preserveState:!0})}},[a]);const _=()=>{const t=new URLSearchParams(window.location.search),s=t.get("page")?t.get("page"):1,L=t.get("akun_id")?t.get("akun_id"):"",A=t.get("period")?t.get("period"):"this_year";P(route(route().current()+"")+`?akun_id=${L}&period=${A}&page=${s}&media=print`),h(!0)};return e.jsxs(E,{children:[e.jsx("div",{className:"flex content-center items-center justify-center relative -top-2",children:e.jsx("div",{className:"w-full px-2",children:e.jsxs("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-2 shadow-lg shadow-slate-400 rounded-lg bg-white border-0",children:[e.jsx("div",{className:"rounded-t mb-2 px-4 pt-4 ",children:e.jsxs("div",{className:"w-full flex  justify-between bg-lightBlue-800 text-lightBlue-100 px-2 py-2 shadow-md rounded-lg",children:[e.jsx("div",{className:"text-left",children:e.jsx("h1",{className:"font-semibold",children:"BUKU BESAR"})}),e.jsxs("div",{className:"w-1/3 text-blueGray-800 flex flex-col md:flex-row justify-between items-center gap-2",children:[e.jsx(p,{name:"akun",value:N,options:r,placeholder:"Pilih Akun",onChange:t=>{o(s=>({...s,akun_id:t.value})),b(t||{})}}),e.jsx(p,{name:"period",value:y,options:n,placeholder:"Periode",onChange:t=>{o(s=>({...s,period:t.value})),k(t||{})}}),e.jsx("button",{onClick:t=>{_()},className:"text-lightBlue-300 background-transparent font-bold uppercase px-3 py-1 outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:e.jsx("i",{className:"fas fa-print"})})]})]})}),e.jsx("div",{className:"flex-auto px-2 lg:px-4 py-6 pt-0 ",children:i?e.jsxs("div",{className:"p-1 w-full flex-col text-sm",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-y-2 font-semibold bg-slate-300",children:[e.jsx("td",{width:"4%",children:"No."}),e.jsx("td",{width:"10%",children:"Tanggal"}),e.jsx("td",{width:"15%",children:"Nama Akun"}),e.jsx("td",{width:"35%",children:"Uraian"}),e.jsx("td",{width:"10%",align:"right",children:"Debet"}),e.jsx("td",{width:"10%",align:"right",children:"Kredit"}),e.jsx("td",{width:"10%",align:"right",children:"Saldo"})]})}),e.jsx("tbody",{children:i.map((t,s)=>e.jsxs("tr",{className:"border-b-2",children:[e.jsx("td",{children:t.nourut}),e.jsx("td",{children:t.tanggal}),e.jsx("td",{children:t.nama_akun}),e.jsx("td",{children:t.uraian}),e.jsx("td",{align:"right",children:t.debet}),e.jsx("td",{align:"right",children:t.kredit}),e.jsx("td",{align:"right",children:t.saldo})]},s))})]}),e.jsx("div",{className:"w-full mt-4 flex justify-end items-start",children:e.jsxs("div",{className:"w-36 grid grid-cols-2 gap-2 ",children:[e.jsxs(u,{href:f,className:"bg-lightBlue-500 text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-1 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"Link",children:[e.jsx("i",{className:"fa fa-chevron-left","aria-hidden":"true"})," Prev"]}),e.jsxs(u,{href:x,className:"bg-lightBlue-500 text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-2 py-1 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"Link",children:[e.jsx("i",{className:"fa fa-chevron-right","aria-hidden":"true"})," Next"]})]})})]}):null})]})})}),e.jsx(U,{showModal:S,setShowModal:h,src:B})]})};export{ee as default};
