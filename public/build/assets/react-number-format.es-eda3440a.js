import{r as I,R as L}from"./app-aaeec304.js";function pe(e,t){var n={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&t.indexOf(u)<0&&(n[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,u=Object.getOwnPropertySymbols(e);i<u.length;i++)t.indexOf(u[i])<0&&Object.prototype.propertyIsEnumerable.call(e,u[i])&&(n[u[i]]=e[u[i]]);return n}var D;(function(e){e.event="event",e.props="prop"})(D||(D={}));function N(){}function ye(e){var t,n=void 0;return function(){for(var u=[],i=arguments.length;i--;)u[i]=arguments[i];return t&&u.length===t.length&&u.every(function(s,d){return s===t[d]})||(t=u,n=e.apply(void 0,u)),n}}function q(e){return!!(e||"").match(/\d/)}function G(e){return e==null}function Ve(e){return typeof e=="number"&&isNaN(e)}function Se(e){return G(e)||Ve(e)||typeof e=="number"&&!isFinite(e)}function Ie(e){var t=I.useRef(e);t.current=e;var n=I.useRef(function(){for(var u=[],i=arguments.length;i--;)u[i]=arguments[i];return t.current.apply(t,u)});return n.current}function Y(e,t){return Array(t+1).join(e)}function xe(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var u=t.split(/[eE]/g),i=u[0],s=u[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var d=1+s,y=i.length;return d<0?i="0."+Y("0",Math.abs(d))+i:d>=y?i=i+Y("0",d-y):i=(i.substring(0,d)||"0")+"."+i.substring(d),n+i}function Z(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Ce=ye(function(e,t){for(var n=0,u=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-u]===t[s-1-u]&&s-u>n&&i-u>n;)u++;return{from:{start:n,end:i-u},to:{start:n,end:s-u}}});function be(e,t,n){return Math.min(Math.max(e,t),n)}function $(e){return Math.max(e.selectionStart,e.selectionEnd)}function Ae(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Te(e){var t=e.currentValue,n=e.formattedValue,u=e.currentValueIndex,i=e.formattedValueIndex;return t[u]===n[i]}function we(e,t,n,u,i,s,d){d===void 0&&(d=Te);var y=i.findIndex(function(U){return U}),x=e.slice(0,y);!t&&!n.startsWith(x)&&(t=x,n=x+n,u=u+x.length);for(var b=n.length,R=e.length,E={},p=new Array(b),V=0;V<b;V++){p[V]=-1;for(var c=0,A=R;c<A;c++){var C=d({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:V,formattedValueIndex:c});if(C&&E[c]!==!0){p[V]=c,E[c]=!0;break}}}for(var l=u;l<b&&(p[l]===-1||!s(n[l]));)l++;var T=l===b||p[l]===-1?R:p[l];for(l=u-1;l>0&&p[l]===-1;)l--;var w=l===-1||p[l]===-1?0:p[l]+1;return w>T?T:u-w<T-u?w:T}function ee(e,t,n,u){var i=e.length;if(t=be(t,0,i),u==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function Ee(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,u=t.length;n<u;n++)t[n]=!!(q(e[n])||q(e[n-1]));return t}function Oe(e,t,n,u,i,s){s===void 0&&(s=N);var d=Ie(function(c,A){var C,l;return Se(c)?(l="",C=""):typeof c=="number"||A?(l=typeof c=="number"?xe(c):c,C=u(l)):(l=i(c,void 0),C=u(l)),{formattedValue:C,numAsString:l}}),y=I.useState(function(){return d(G(e)?t:e,n)}),x=y[0],b=y[1],R=function(c,A){c.formattedValue!==x.formattedValue&&b({formattedValue:c.formattedValue,numAsString:c.value}),s(c,A)},E=e,p=n;G(e)&&(E=x.numAsString,p=!0);var V=d(E,p);return I.useMemo(function(){b(V)},[V.formattedValue]),[x,R]}function Re(e){return e.replace(/[^0-9]/g,"")}function Me(e){return e}function Be(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var u=e.customInput,i=e.renderText,s=e.getInputRef,d=e.format;d===void 0&&(d=Me);var y=e.removeFormatting;y===void 0&&(y=Re);var x=e.defaultValue,b=e.valueIsNumericString,R=e.onValueChange,E=e.isAllowed,p=e.onChange;p===void 0&&(p=N);var V=e.onKeyDown;V===void 0&&(V=N);var c=e.onMouseUp;c===void 0&&(c=N);var A=e.onFocus;A===void 0&&(A=N);var C=e.onBlur;C===void 0&&(C=N);var l=e.value,T=e.getCaretBoundary;T===void 0&&(T=Ee);var w=e.isValidInputCharacter;w===void 0&&(w=q);var U=e.isCharacterSame,K=pe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),H=Oe(l,x,!!b,d,y,R),J=H[0],m=J.formattedValue,j=J.numAsString,te=H[1],k=I.useRef({formattedValue:m,numAsString:j}),P=function(r,a){k.current={formattedValue:r.formattedValue,numAsString:r.value},te(r,a)},Q=I.useState(!1),re=Q[0],ne=Q[1],B=I.useRef(null),M=I.useRef({setCaretTimeout:null,focusTimeout:null});I.useEffect(function(){return ne(!0),function(){clearTimeout(M.current.setCaretTimeout),clearTimeout(M.current.focusTimeout)}},[]);var ae=d,z=function(r,a){var o=parseFloat(a);return{formattedValue:r,value:a,floatValue:isNaN(o)?void 0:o}},O=function(r,a,o){r.selectionStart===0&&r.selectionEnd===r.value.length||(Z(r,a),M.current.setCaretTimeout=setTimeout(function(){r.value===o&&r.selectionStart!==a&&Z(r,a)},0))},_=function(r,a,o){return ee(r,a,T(r),o)},W=function(r,a,o){var g=T(a),h=we(a,m,r,o,g,w,U);return h=ee(a,h,g),h},ue=function(r){var a=r.formattedValue;a===void 0&&(a="");var o=r.input,g=r.source,h=r.event,f=r.numAsString,v;if(o){var S=r.inputValue||o.value,F=$(o);o.value=a,v=W(S,a,F),v!==void 0&&O(o,v,a)}a!==m&&P(z(a,f),{event:h,source:g})};I.useEffect(function(){var r=k.current,a=r.formattedValue,o=r.numAsString;m!==a&&(m!==j||a!==o)&&P(z(m,j),{event:void 0,source:D.props})},[m,j]);var ie=B.current?$(B.current):void 0,oe=typeof window<"u"?I.useLayoutEffect:I.useEffect;oe(function(){var r=B.current;if(m!==k.current.formattedValue&&r){var a=W(k.current.formattedValue,m,ie);r.value=m,O(r,a,m)}},[m]);var fe=function(r,a,o){var g=Ce(m,r),h=Object.assign(Object.assign({},g),{lastValue:m}),f=y(r,h),v=ae(f);if(f=y(v,void 0),E&&!E(z(v,f))){var S=a.target,F=$(S),he=W(r,m,F);return S.value=m,O(S,he,m),!1}return ue({formattedValue:v,numAsString:f,inputValue:r,event:a,source:o,input:a.target}),!0},le=function(r){var a=r.target,o=a.value,g=fe(o,r,D.event);g&&p(r)},ve=function(r){var a=r.target,o=r.key,g=a.selectionStart,h=a.selectionEnd,f=a.value;f===void 0&&(f="");var v;if(o==="ArrowLeft"||o==="Backspace"?v=Math.max(g-1,0):o==="ArrowRight"?v=Math.min(g+1,f.length):o==="Delete"&&(v=g),v===void 0||g!==h){V(r);return}var S=v;if(o==="ArrowLeft"||o==="ArrowRight"){var F=o==="ArrowLeft"?"left":"right";S=_(f,v,F),S!==v&&r.preventDefault()}else o==="Delete"&&!w(f[v])?S=_(f,v,"right"):o==="Backspace"&&!w(f[v])&&(S=_(f,v,"left"));S!==v&&O(a,S,f),r.isUnitTestRun&&O(a,S,f),V(r)},ce=function(r){var a=r.target,o=a.selectionStart,g=a.selectionEnd,h=a.value;if(h===void 0&&(h=""),o===g){var f=_(h,o);f!==o&&O(a,f,h)}c(r)},se=function(r){r.persist&&r.persist();var a=r.target,o=r.currentTarget;B.current=a,M.current.focusTimeout=setTimeout(function(){var g=a.selectionStart,h=a.selectionEnd,f=a.value;f===void 0&&(f="");var v=_(f,g);v!==g&&!(g===0&&h===f.length)&&O(a,v,f),A(Object.assign(Object.assign({},r),{currentTarget:o}))},0)},de=function(r){B.current=null,clearTimeout(M.current.focusTimeout),clearTimeout(M.current.setCaretTimeout),C(r)},me=re&&Ae()?"numeric":void 0,X=Object.assign({inputMode:me},K,{type:t,value:m,onChange:le,onKeyDown:ve,onMouseUp:ce,onFocus:se,onBlur:de});if(n==="text")return i?L.createElement(L.Fragment,null,i(m,K)||null):L.createElement("span",Object.assign({},K,{ref:s}),m);if(u){var ge=u;return L.createElement(ge,Object.assign({},X,{ref:s}))}return L.createElement("input",Object.assign({},X,{ref:s}))}export{Be as N};
