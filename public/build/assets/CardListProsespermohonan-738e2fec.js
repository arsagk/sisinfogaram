import{J as j,r as h,P as f,j as s}from"./app-8a2a51c8.js";import{P as v}from"./PilihStatusprosesperm-9f05caa2.js";import{S as w}from"./SelectSearch-c2539244.js";import{l as d}from"./lodash-aaf2e0ec.js";import{u as N}from"./usePrevious-2581348e.js";import{P as g}from"./Pagination-fb68eb83.js";import{h as _}from"./moment-a9aaa855.js";const E=({itemprosespermsOpts:o})=>{const{itemprosesperm_id:t,statusprosesperms:e,statusprosesperm_id:l,transpermohonan_id:r,permohonan:n}=j().props,[m,p]=h.useState({itemprosesperm_id:t,statusprosesperm_id:l,transpermohonan_id:r,permohonan:n}),c=N(m),x=o.find(a=>a.value==t),u=e.find(a=>a.id==l);return h.useEffect(()=>{if(c){const a=Object.keys(d.pickBy(m)).length?d.pickBy(m):{};f.get(route(route().current()?route().current()+"":""),a,{replace:!0,preserveState:!0})}},[m]),s.jsxs("div",{className:"p-4 bg-blueGray-100 shadow-md rounded-md flex flex-col",children:[s.jsx("h1",{className:"font-bold text-lightBlue-700 mb-2",children:"Filter"}),s.jsx(w,{options:o,value:x,onChange:a=>{p(i=>({...i,itemprosesperm_id:a.value}))}}),s.jsx(v,{statusprosesperms:e,statusprosesperm:u,setStatusprosesperm:a=>{p(i=>({...i,statusprosesperm_id:a.id}))}})]})},M=({prosespermohonans:{data:o,links:t}})=>s.jsxs("div",{className:"p-4 flex flex-col text-xs bg-blueGray-100 rounded-md shadow-lg",children:[s.jsx("h1",{className:"font-bold text-lg text-lightBlue-700",children:"Proses Permohonan"}),s.jsx("ul",{className:"list-none",children:o&&o.map((e,l)=>s.jsxs("li",{children:[s.jsxs("div",{className:"relative w-full flex flex-row justify-between rounded-t-md mt-2 px-2 pt-2 bg-white text-lightBlue-700 font-bold text-xs",children:[s.jsx("span",{children:e.itemprosesperm.nama_itemprosesperm}),s.jsx("span",{children:e.transpermohonan.jenispermohonan.nama_jenispermohonan})]}),s.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 mt-0 bg-white px-2 shadow",children:[s.jsxs("div",{className:"w-full flex items-start flex-wrap",children:[s.jsx("div",{className:"w-1/4",children:"Pelepas"}),s.jsx("div",{className:"w-3/4",children:e.transpermohonan.permohonan.nama_pelepas}),s.jsx("div",{className:"w-1/4",children:"Penerima"}),s.jsx("div",{className:"w-3/4",children:e.transpermohonan.permohonan.nama_penerima}),s.jsx("div",{className:"w-1/4",children:"Alas Hak"}),s.jsxs("div",{className:"w-3/4",children:[e.transpermohonan.permohonan.jenishak.singkatan,".",e.transpermohonan.permohonan.nomor_hak,","," ",e.transpermohonan.permohonan.jenishak.singkatan=="C"?"Ps "+e.transpermohonan.permohonan.persil+", "+e.transpermohonan.permohonan.klas:null," ","L.",e.transpermohonan.permohonan.luas_tanah,"M2"]})]}),s.jsxs("div",{className:"w-full flex items-start flex-wrap",children:[s.jsx("div",{className:"w-1/4",children:"Atas Nama"}),s.jsx("div",{className:"w-3/4",children:e.transpermohonan.permohonan.atas_nama}),s.jsx("div",{className:"w-1/4",children:"Lokasi"}),s.jsxs("div",{className:"w-3/4",children:["Desa"," ",e.transpermohonan.permohonan.desa.nama_desa,","," ",e.transpermohonan.permohonan.desa.kecamatan.nama_kecamatan]}),s.jsx("div",{className:"w-1/4",children:"User"}),s.jsx("div",{className:"w-3/4",children:e.transpermohonan.permohonan.users&&e.transpermohonan.permohonan.users.length>0&&e.transpermohonan.permohonan.users.map((r,n)=>s.jsxs("span",{children:[n>0?", ":"",r.name]},n))})]})]}),s.jsx("div",{className:"relative w-full rounded-b-md px-2 py-2 pb-2 bg-white text-red-700 text-xs shadow",children:e.statusprosesperms&&e.statusprosesperms.map((r,n)=>s.jsxs("ol",{className:"flex flex-wrap w-full list-disc ml-3 gap-1",children:[s.jsx("li",{children:_(r.pivot.created_at).format("DD MMM YYYY HH:mm")}),s.jsx("li",{className:"ml-4",children:r.nama_statusprosesperm}),r.pivot.catatan_statusprosesperm?s.jsx("li",{className:"ml-4",children:r.pivot.catatan_statusprosesperm}):null]},n))})]},l))}),s.jsx(g,{links:t})]});export{E as C,M as a};
