import{r as d,R as U,j as e,J as z,q as re,m as Q,P as ue,_ as Oe}from"./app-8a2a51c8.js";import{M as ne}from"./Modal-8b6796a7.js";import{L as pe}from"./LoadingButton-f631929b.js";import{L as ee}from"./LinkButton-eaba230a.js";import{I as te}from"./Input-4565f91c.js";import{M as R}from"./MoneyInput-90b5e991.js";import{u as ae}from"./useSwal-381cd456.js";import{S as ce}from"./SelectSearch-c2539244.js";import{O as me,U as F,y as O,o as C,u as W,C as K,p as Be,a as ke,l as Z,f as Ke,s as je,t as Ge}from"./use-flags-4a318b95.js";import{h as Ue,T as Ve,I as se,o as N,r as He,_ as We,M,D as Me,a as Y,f as Te,s as Ze,N as oe,b as Je,O as q}from"./description-9728843f.js";import{y as qe,n as Qe}from"./active-element-history-2e379daf.js";import{c as A,T as Ee,s as Ye,u as ze,f as Xe,P as ea}from"./PermohonanSelect-dd72d1d4.js";import{F as aa}from"./form-72b18865.js";import{s as ta,d as he,u as ra,q as na}from"./transition-211cf23e.js";import{l as xe}from"./lodash-aaf2e0ec.js";import{u as $e}from"./usePrevious-2581348e.js";import{$ as de}from"./module-15f622ee.js";import{A as sa}from"./AdminLayout-96d458bc.js";import"./dialog-43e39db9.js";import"./index-dafd4053.js";import"./bundle-mjs-11609d99.js";import"./react-number-format.es-361d1c02.js";import"./react-select.esm-5d079b1e.js";import"./emotion-element-c39617d8.browser.esm-49af1451.js";import"./NotificationDropdown-3e1ff87d.js";import"./ResponsiveNavLink-42824ad3.js";import"./MenuItem-d7945933.js";var la=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(la||{}),ia=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ia||{}),oa=(a=>(a[a.OpenMenu=0]="OpenMenu",a[a.CloseMenu=1]="CloseMenu",a[a.GoToItem=2]="GoToItem",a[a.Search=3]="Search",a[a.ClearSearch=4]="ClearSearch",a[a.RegisterItem=5]="RegisterItem",a[a.UnregisterItem=6]="UnregisterItem",a))(oa||{});function we(a,r=t=>t){let t=a.activeItemIndex!==null?a.items[a.activeItemIndex]:null,n=Y(r(a.items.slice()),l=>l.dataRef.current.domRef.current),o=t?n.indexOf(t):null;return o===-1&&(o=null),{items:n,activeItemIndex:o}}let da={1(a){return a.menuState===1?a:{...a,activeItemIndex:null,menuState:1}},0(a){return a.menuState===0?a:{...a,__demoMode:!1,menuState:0}},2:(a,r)=>{var t;let n=we(a),o=Xe(r,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...a,...n,searchQuery:"",activeItemIndex:o,activationTrigger:(t=r.trigger)!=null?t:1}},3:(a,r)=>{let t=a.searchQuery!==""?0:1,n=a.searchQuery+r.value.toLowerCase(),o=(a.activeItemIndex!==null?a.items.slice(a.activeItemIndex+t).concat(a.items.slice(0,a.activeItemIndex+t)):a.items).find(i=>{var u;return((u=i.dataRef.current.textValue)==null?void 0:u.startsWith(n))&&!i.dataRef.current.disabled}),l=o?a.items.indexOf(o):-1;return l===-1||l===a.activeItemIndex?{...a,searchQuery:n}:{...a,searchQuery:n,activeItemIndex:l,activationTrigger:1}},4(a){return a.searchQuery===""?a:{...a,searchQuery:"",searchActiveItemIndex:null}},5:(a,r)=>{let t=we(a,n=>[...n,{id:r.id,dataRef:r.dataRef}]);return{...a,...t}},6:(a,r)=>{let t=we(a,n=>{let o=n.findIndex(l=>l.id===r.id);return o!==-1&&n.splice(o,1),n});return{...a,...t,activationTrigger:1}}},Ne=d.createContext(null);Ne.displayName="MenuContext";function fe(a){let r=d.useContext(Ne);if(r===null){let t=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return r}function ua(a,r){return W(r.type,da,a,r)}let ca=d.Fragment;function ma(a,r){let{__demoMode:t=!1,...n}=a,o=d.useReducer(ua,{__demoMode:t,menuState:t?0:1,buttonRef:d.createRef(),itemsRef:d.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:l,itemsRef:i,buttonRef:u},h]=o,v=O(r);qe([u,i],(x,w)=>{var y;h({type:1}),Ue(w,Ve.Loose)||(x.preventDefault(),(y=u.current)==null||y.focus())},l===0);let f=C(()=>{h({type:1})}),c=d.useMemo(()=>({open:l===0,close:f}),[l,f]),s={ref:v};return U.createElement(Ne.Provider,{value:o},U.createElement(ta,{value:W(l,{0:he.Open,1:he.Closed})},K({ourProps:s,theirProps:n,slot:c,defaultTag:ca,name:"Menu"})))}let ha="button";function xa(a,r){var t;let n=se(),{id:o=`headlessui-menu-button-${n}`,...l}=a,[i,u]=fe("Menu.Button"),h=O(i.buttonRef,r),v=Be(),f=C(y=>{switch(y.key){case N.Space:case N.Enter:case N.ArrowDown:y.preventDefault(),y.stopPropagation(),u({type:0}),v.nextFrame(()=>u({type:2,focus:A.First}));break;case N.ArrowUp:y.preventDefault(),y.stopPropagation(),u({type:0}),v.nextFrame(()=>u({type:2,focus:A.Last}));break}}),c=C(y=>{switch(y.key){case N.Space:y.preventDefault();break}}),s=C(y=>{if(He(y.currentTarget))return y.preventDefault();a.disabled||(i.menuState===0?(u({type:1}),v.nextFrame(()=>{var _;return(_=i.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})})):(y.preventDefault(),u({type:0})))}),x=d.useMemo(()=>({open:i.menuState===0}),[i]),w={ref:h,id:o,type:Ee(a,i.buttonRef),"aria-haspopup":"menu","aria-controls":(t=i.itemsRef.current)==null?void 0:t.id,"aria-expanded":i.menuState===0,onKeyDown:f,onKeyUp:c,onClick:s};return K({ourProps:w,theirProps:l,slot:x,defaultTag:ha,name:"Menu.Button"})}let pa="div",fa=me.RenderStrategy|me.Static;function ba(a,r){var t,n;let o=se(),{id:l=`headlessui-menu-items-${o}`,...i}=a,[u,h]=fe("Menu.Items"),v=O(u.itemsRef,r),f=Qe(u.itemsRef),c=Be(),s=ra(),x=(()=>s!==null?(s&he.Open)===he.Open:u.menuState===0)();d.useEffect(()=>{let m=u.itemsRef.current;m&&u.menuState===0&&m!==(f==null?void 0:f.activeElement)&&m.focus({preventScroll:!0})},[u.menuState,u.itemsRef,f]),aa({container:u.itemsRef.current,enabled:u.menuState===0,accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});let w=C(m=>{var j,I;switch(c.dispose(),m.key){case N.Space:if(u.searchQuery!=="")return m.preventDefault(),m.stopPropagation(),h({type:3,value:m.key});case N.Enter:if(m.preventDefault(),m.stopPropagation(),h({type:1}),u.activeItemIndex!==null){let{dataRef:p}=u.items[u.activeItemIndex];(I=(j=p.current)==null?void 0:j.domRef.current)==null||I.click()}Me(u.buttonRef.current);break;case N.ArrowDown:return m.preventDefault(),m.stopPropagation(),h({type:2,focus:A.Next});case N.ArrowUp:return m.preventDefault(),m.stopPropagation(),h({type:2,focus:A.Previous});case N.Home:case N.PageUp:return m.preventDefault(),m.stopPropagation(),h({type:2,focus:A.First});case N.End:case N.PageDown:return m.preventDefault(),m.stopPropagation(),h({type:2,focus:A.Last});case N.Escape:m.preventDefault(),m.stopPropagation(),h({type:1}),ke().nextFrame(()=>{var p;return(p=u.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});break;case N.Tab:m.preventDefault(),m.stopPropagation(),h({type:1}),ke().nextFrame(()=>{We(u.buttonRef.current,m.shiftKey?M.Previous:M.Next)});break;default:m.key.length===1&&(h({type:3,value:m.key}),c.setTimeout(()=>h({type:4}),350));break}}),y=C(m=>{switch(m.key){case N.Space:m.preventDefault();break}}),_=d.useMemo(()=>({open:u.menuState===0}),[u]),b={"aria-activedescendant":u.activeItemIndex===null||(t=u.items[u.activeItemIndex])==null?void 0:t.id,"aria-labelledby":(n=u.buttonRef.current)==null?void 0:n.id,id:l,onKeyDown:w,onKeyUp:y,role:"menu",tabIndex:0,ref:v};return K({ourProps:b,theirProps:i,slot:_,defaultTag:pa,features:fa,visible:x,name:"Menu.Items"})}let ga=d.Fragment;function va(a,r){let t=se(),{id:n=`headlessui-menu-item-${t}`,disabled:o=!1,...l}=a,[i,u]=fe("Menu.Item"),h=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,v=d.useRef(null),f=O(r,v);Z(()=>{if(i.__demoMode||i.menuState!==0||!h||i.activationTrigger===0)return;let p=ke();return p.requestAnimationFrame(()=>{var B,G;(G=(B=v.current)==null?void 0:B.scrollIntoView)==null||G.call(B,{block:"nearest"})}),p.dispose},[i.__demoMode,v,h,i.menuState,i.activationTrigger,i.activeItemIndex]);let c=Ye(v),s=d.useRef({disabled:o,domRef:v,get textValue(){return c()}});Z(()=>{s.current.disabled=o},[s,o]),Z(()=>(u({type:5,id:n,dataRef:s}),()=>u({type:6,id:n})),[s,n]);let x=C(()=>{u({type:1})}),w=C(p=>{if(o)return p.preventDefault();u({type:1}),Me(i.buttonRef.current)}),y=C(()=>{if(o)return u({type:2,focus:A.Nothing});u({type:2,focus:A.Specific,id:n})}),_=ze(),b=C(p=>_.update(p)),m=C(p=>{_.wasMoved(p)&&(o||h||u({type:2,focus:A.Specific,id:n,trigger:0}))}),j=C(p=>{_.wasMoved(p)&&(o||h&&u({type:2,focus:A.Nothing}))}),I=d.useMemo(()=>({active:h,disabled:o,close:x}),[h,o,x]);return K({ourProps:{id:n,ref:f,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,disabled:void 0,onClick:w,onFocus:y,onPointerEnter:b,onMouseEnter:b,onPointerMove:m,onMouseMove:m,onPointerLeave:j,onMouseLeave:j},theirProps:l,slot:I,defaultTag:ga,name:"Menu.Item"})}let ya=F(ma),ja=F(xa),wa=F(ba),ka=F(va),H=Object.assign(ya,{Button:ja,Items:wa,Item:ka});function Na({onFocus:a}){let[r,t]=d.useState(!0),n=Ke();return r?U.createElement(Te,{as:"button",type:"button",features:Ze.Focusable,onFocus:o=>{o.preventDefault();let l,i=50;function u(){if(i--<=0){l&&cancelAnimationFrame(l);return}if(a()){if(cancelAnimationFrame(l),!n.current)return;t(!1);return}l=requestAnimationFrame(u)}l=requestAnimationFrame(u)}}):null}const Ae=d.createContext(null);function _a(){return{groups:new Map,get(a,r){var t;let n=this.groups.get(a);n||(n=new Map,this.groups.set(a,n));let o=(t=n.get(r))!=null?t:0;n.set(r,o+1);let l=Array.from(n.keys()).indexOf(r);function i(){let u=n.get(r);u>1?n.set(r,u-1):n.delete(r)}return[l,i]}}}function Ia({children:a}){let r=d.useRef(_a());return d.createElement(Ae.Provider,{value:r},a)}function Re(a){let r=d.useContext(Ae);if(!r)throw new Error("You must wrap your component in a <StableCollection>");let t=Sa(),[n,o]=r.current.get(a,t);return d.useEffect(()=>o,[]),n}function Sa(){var a,r,t;let n=(t=(r=(a=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:a.ReactCurrentOwner)==null?void 0:r.current)!=null?t:null;if(!n)return Symbol();let o=[],l=n;for(;l;)o.push(l.index),l=l.return;return"$."+o.join(".")}var Ca=(a=>(a[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a))(Ca||{}),Pa=(a=>(a[a.Less=-1]="Less",a[a.Equal=0]="Equal",a[a.Greater=1]="Greater",a))(Pa||{}),Ba=(a=>(a[a.SetSelectedIndex=0]="SetSelectedIndex",a[a.RegisterTab=1]="RegisterTab",a[a.UnregisterTab=2]="UnregisterTab",a[a.RegisterPanel=3]="RegisterPanel",a[a.UnregisterPanel=4]="UnregisterPanel",a))(Ba||{});let Ma={0(a,r){var t;let n=Y(a.tabs,f=>f.current),o=Y(a.panels,f=>f.current),l=n.filter(f=>{var c;return!((c=f.current)!=null&&c.hasAttribute("disabled"))}),i={...a,tabs:n,panels:o};if(r.index<0||r.index>n.length-1){let f=W(Math.sign(r.index-a.selectedIndex),{[-1]:()=>1,0:()=>W(Math.sign(r.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return i;let c=W(f,{0:()=>n.indexOf(l[0]),1:()=>n.indexOf(l[l.length-1])});return{...i,selectedIndex:c===-1?a.selectedIndex:c}}let u=n.slice(0,r.index),h=[...n.slice(r.index),...u].find(f=>l.includes(f));if(!h)return i;let v=(t=n.indexOf(h))!=null?t:a.selectedIndex;return v===-1&&(v=a.selectedIndex),{...i,selectedIndex:v}},1(a,r){var t;if(a.tabs.includes(r.tab))return a;let n=a.tabs[a.selectedIndex],o=Y([...a.tabs,r.tab],i=>i.current),l=(t=o.indexOf(n))!=null?t:a.selectedIndex;return l===-1&&(l=a.selectedIndex),{...a,tabs:o,selectedIndex:l}},2(a,r){return{...a,tabs:a.tabs.filter(t=>t!==r.tab)}},3(a,r){return a.panels.includes(r.panel)?a:{...a,panels:Y([...a.panels,r.panel],t=>t.current)}},4(a,r){return{...a,panels:a.panels.filter(t=>t!==r.panel)}}},_e=d.createContext(null);_e.displayName="TabsDataContext";function X(a){let r=d.useContext(_e);if(r===null){let t=new Error(`<${a} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return r}let Ie=d.createContext(null);Ie.displayName="TabsActionsContext";function Se(a){let r=d.useContext(Ie);if(r===null){let t=new Error(`<${a} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Se),t}return r}function Ta(a,r){return W(r.type,Ma,a,r)}let Ea=d.Fragment;function $a(a,r){let{defaultIndex:t=0,vertical:n=!1,manual:o=!1,onChange:l,selectedIndex:i=null,...u}=a;const h=n?"vertical":"horizontal",v=o?"manual":"auto";let f=i!==null,c=O(r),[s,x]=d.useReducer(Ta,{selectedIndex:i??t,tabs:[],panels:[]}),w=d.useMemo(()=>({selectedIndex:s.selectedIndex}),[s.selectedIndex]),y=je(l||(()=>{})),_=je(s.tabs),b=d.useMemo(()=>({orientation:h,activation:v,...s}),[h,v,s]),m=C(S=>(x({type:1,tab:S}),()=>x({type:2,tab:S}))),j=C(S=>(x({type:3,panel:S}),()=>x({type:4,panel:S}))),I=C(S=>{p.current!==S&&y.current(S),f||x({type:0,index:S})}),p=je(f?a.selectedIndex:s.selectedIndex),B=d.useMemo(()=>({registerTab:m,registerPanel:j,change:I}),[]);Z(()=>{x({type:0,index:i??t})},[i]),Z(()=>{if(p.current===void 0||s.tabs.length<=0)return;let S=Y(s.tabs,$=>$.current);S.some(($,k)=>s.tabs[k]!==$)&&I(S.indexOf(s.tabs[p.current]))});let G={ref:c};return U.createElement(Ia,null,U.createElement(Ie.Provider,{value:B},U.createElement(_e.Provider,{value:b},b.tabs.length<=0&&U.createElement(Na,{onFocus:()=>{var S,$;for(let k of _.current)if(((S=k.current)==null?void 0:S.tabIndex)===0)return($=k.current)==null||$.focus(),!0;return!1}}),K({ourProps:G,theirProps:u,slot:w,defaultTag:Ea,name:"Tabs"}))))}let Aa="div";function Ra(a,r){let{orientation:t,selectedIndex:n}=X("Tab.List"),o=O(r);return K({ourProps:{ref:o,role:"tablist","aria-orientation":t},theirProps:a,slot:{selectedIndex:n},defaultTag:Aa,name:"Tabs.List"})}let Da="button";function La(a,r){var t,n;let o=se(),{id:l=`headlessui-tabs-tab-${o}`,...i}=a,{orientation:u,activation:h,selectedIndex:v,tabs:f,panels:c}=X("Tab"),s=Se("Tab"),x=X("Tab"),w=d.useRef(null),y=O(w,r);Z(()=>s.registerTab(w),[s,w]);let _=Re("tabs"),b=f.indexOf(w);b===-1&&(b=_);let m=b===v,j=C(k=>{var T;let J=k();if(J===oe.Success&&h==="auto"){let be=(T=Je(w))==null?void 0:T.activeElement,le=x.tabs.findIndex(ie=>ie.current===be);le!==-1&&s.change(le)}return J}),I=C(k=>{let T=f.map(J=>J.current).filter(Boolean);if(k.key===N.Space||k.key===N.Enter){k.preventDefault(),k.stopPropagation(),s.change(b);return}switch(k.key){case N.Home:case N.PageUp:return k.preventDefault(),k.stopPropagation(),j(()=>q(T,M.First));case N.End:case N.PageDown:return k.preventDefault(),k.stopPropagation(),j(()=>q(T,M.Last))}if(j(()=>W(u,{vertical(){return k.key===N.ArrowUp?q(T,M.Previous|M.WrapAround):k.key===N.ArrowDown?q(T,M.Next|M.WrapAround):oe.Error},horizontal(){return k.key===N.ArrowLeft?q(T,M.Previous|M.WrapAround):k.key===N.ArrowRight?q(T,M.Next|M.WrapAround):oe.Error}}))===oe.Success)return k.preventDefault()}),p=d.useRef(!1),B=C(()=>{var k;p.current||(p.current=!0,(k=w.current)==null||k.focus({preventScroll:!0}),s.change(b),Ge(()=>{p.current=!1}))}),G=C(k=>{k.preventDefault()}),S=d.useMemo(()=>({selected:m}),[m]),$={ref:y,onKeyDown:I,onMouseDown:G,onClick:B,id:l,role:"tab",type:Ee(a,w),"aria-controls":(n=(t=c[b])==null?void 0:t.current)==null?void 0:n.id,"aria-selected":m,tabIndex:m?0:-1};return K({ourProps:$,theirProps:i,slot:S,defaultTag:Da,name:"Tabs.Tab"})}let Fa="div";function Oa(a,r){let{selectedIndex:t}=X("Tab.Panels"),n=O(r),o=d.useMemo(()=>({selectedIndex:t}),[t]);return K({ourProps:{ref:n},theirProps:a,slot:o,defaultTag:Fa,name:"Tabs.Panels"})}let Ka="div",Ga=me.RenderStrategy|me.Static;function Ua(a,r){var t,n,o,l;let i=se(),{id:u=`headlessui-tabs-panel-${i}`,tabIndex:h=0,...v}=a,{selectedIndex:f,tabs:c,panels:s}=X("Tab.Panel"),x=Se("Tab.Panel"),w=d.useRef(null),y=O(w,r);Z(()=>x.registerPanel(w),[x,w]);let _=Re("panels"),b=s.indexOf(w);b===-1&&(b=_);let m=b===f,j=d.useMemo(()=>({selected:m}),[m]),I={ref:y,id:u,role:"tabpanel","aria-labelledby":(n=(t=c[b])==null?void 0:t.current)==null?void 0:n.id,tabIndex:m?h:-1};return!m&&((o=v.unmount)==null||o)&&!((l=v.static)!=null&&l)?U.createElement(Te,{as:"span","aria-hidden":"true",...I}):K({ourProps:I,theirProps:v,slot:j,defaultTag:Ka,features:Ga,visible:m,name:"Tabs.Panel"})}let Va=F(La),Ha=F($a),Wa=F(Ra),Za=F(Oa),Ja=F(Ua),L=Object.assign(Va,{Group:Ha,List:Wa,Panels:Za,Panel:Ja});function qa(a){return e.jsx("svg",{...a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 13V16H7L16 7L13 4L4 13Z",fill:"#EDE9FE",stroke:"#A78BFA",strokeWidth:"2"})})}function Qa(a){return e.jsx("svg",{...a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 13V16H7L16 7L13 4L4 13Z",fill:"#8B5CF6",stroke:"#C4B5FD",strokeWidth:"2"})})}function Ya(a){return e.jsxs("svg",{...a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"5",y:"6",width:"10",height:"10",fill:"#EDE9FE",stroke:"#A78BFA",strokeWidth:"2"}),e.jsx("path",{d:"M3 6H17",stroke:"#A78BFA",strokeWidth:"2"}),e.jsx("path",{d:"M8 6V4H12V6",stroke:"#A78BFA",strokeWidth:"2"})]})}function za(a){return e.jsxs("svg",{...a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"5",y:"6",width:"10",height:"10",fill:"#8B5CF6",stroke:"#C4B5FD",strokeWidth:"2"}),e.jsx("path",{d:"M3 6H17",stroke:"#C4B5FD",strokeWidth:"2"}),e.jsx("path",{d:"M8 6V4H12V6",stroke:"#C4B5FD",strokeWidth:"2"})]})}const Xa=({showModal:a,setShowModal:r,biayaperm:t})=>{const{metodebayars:n}=z().props,{data:o,setData:l,errors:i,post:u,processing:h,reset:v}=re({biayaperm_id:t.id||"",saldo_awal:t.kurang_bayar.toString()||"",jumlah_bayar:t.kurang_bayar.toString()||"",saldo_akhir:"0",akun:void 0,akun_id:"",metodebayar:void 0,metodebayar_id:"",info_rekening:"",catatan_bayarbiayaperm:"",image_bayarbiayaperm:"",_method:"POST"});function f(s){s.preventDefault(),ae.confirm({title:"Simpan Data",text:"apakah akan menyimpan?"}).then(x=>{x.isConfirmed&&u(route("transaksi.bayarbiayaperms.store"),{onSuccess:()=>{r(!1)}})})}const c=(s,x)=>(s>x?s-x:0).toString();return d.useEffect(()=>{l(s=>({...s,biayaperm_id:t.id||"",saldo_awal:t.kurang_bayar.toString()||"0",jumlah_bayar:t.kurang_bayar.toString()||"0",saldo_akhir:"0",metodebayar_id:"",metodebayar:void 0,info_rekening:"",catatan_bayarbiayaperm:"",image_bayarbiayaperm:""}))},[t]),e.jsx(ne,{show:a,maxWidth:"md",closeable:!1,onClose:()=>r(!1),children:e.jsx("div",{className:"p-4 bg-blueGray-100 rounded-md",children:e.jsxs("form",{onSubmit:f,children:[e.jsx("h1",{className:"font-bold text-xl text-blueGray-700 mb-4",children:"BAYAR BIAYA PERMOHONAN"}),e.jsx(R,{name:"saldo_awal",label:"Jumlah Biaya",errors:i.saldo_awal,value:o.saldo_awal,disabled:!0,onValueChange:s=>l(x=>({...x,saldo_awal:s.value,saldo_akhir:c(Number.parseInt(s.value),Number.parseInt(o.jumlah_bayar))}))}),e.jsx(ce,{name:"metodebayar",options:n,onChange:s=>l(x=>({...x,metodebayar:s||void 0,metodebayar_id:s?s.value:""})),label:"Metode Pembayaran",value:o.metodebayar,errors:i.metodebayar_id}),e.jsx(te,{name:"info_rekening",label:"Info Pembayaran",errors:i.info_rekening,value:o.info_rekening,onChange:s=>l("info_rekening",s.target.value)}),e.jsx(R,{name:"jumlah_bayar",label:"Jumlah Bayar",errors:i.jumlah_bayar,value:o.jumlah_bayar,onValueChange:s=>l(x=>({...x,jumlah_bayar:s.value,saldo_akhir:c(Number.parseInt(o.saldo_awal),Number.parseInt(s.value))}))}),e.jsx(R,{name:"saldo_akhir",label:"Kurang Bayar",disabled:!0,errors:i.saldo_akhir,value:o.saldo_akhir,onValueChange:s=>{l("saldo_akhir",s.value)}}),e.jsx(te,{name:"catatan_biayaperm",label:"Catatan",errors:i.catatan_bayarbiayaperm,value:o.catatan_bayarbiayaperm,onChange:s=>l("catatan_bayarbiayaperm",s.target.value)}),e.jsxs("div",{className:"mt-4 w-full flex justify-between items-center",children:[e.jsx(pe,{theme:"black",loading:h,type:"submit",children:e.jsx("span",{children:"Simpan"})}),e.jsx(ee,{href:"#",theme:"blue",onClick:s=>{s.preventDefault(),r(!1)},children:e.jsx("span",{children:"Close"})})]})]})})})},et=({showModal:a,setShowModal:r,biayaperm_id:t})=>{const[n,o]=d.useState([]),l=async i=>{let u=`/transaksi/bayarbiayaperms/api/list?biayaperm_id=${i}`;const v=(await Q.backend.get(u)).data;o(v.data)};return d.useEffect(()=>{t&&a&&l(t)},[a]),e.jsx(ne,{show:a,maxWidth:"2xl",closeable:!0,onClose:()=>r(!1),children:e.jsxs("div",{className:"p-4 bg-blueGray-100 rounded-md text-xs",children:[e.jsxs("div",{className:"w-full absolute right-1 top-1 flex justify-between items-center px-1",children:[e.jsx("h1",{className:"text-lg mb-1 font-semibold text-blueGray-500 ml-4",children:"List Pembayaran"}),e.jsx("button",{className:"text-lightBlue-500 background-transparent font-bold uppercase px-0 py-0 text-xl outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:i=>r(!1),children:e.jsx("i",{className:"fa fa-times-circle","aria-hidden":"true"})})]}),e.jsxs("table",{className:"w-full shadow-md bottom-2 mt-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-y-2 font-semibold bg-slate-300",children:[e.jsx("td",{className:"px-1 py-2",width:"5%",children:"No"}),e.jsx("td",{className:"px-1 py-2",width:"15%",children:"Tanggal"}),e.jsx("td",{className:"px-1 py-2",width:"15%",children:"Metode Bayar"}),e.jsx("td",{className:"px-1 py-2",width:"20%",children:"Info Rekening"}),e.jsx("td",{className:"px-1 py-2",width:"15%",align:"right",children:"Saldo Awal"}),e.jsx("td",{className:"px-1 py-2",width:"15%",align:"right",children:"Jumlah Bayar"}),e.jsx("td",{className:"px-1 py-2",width:"15%",align:"right",children:"Saldo Akhir"})]})}),e.jsx("tbody",{children:n&&n.map((i,u)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-1 py-2",children:u+1}),e.jsx("td",{className:"px-1 py-2",children:i.tgl_bayarbiayaperm}),e.jsx("td",{className:"px-1 py-2",children:i.metodebayar.nama_metodebayar}),e.jsx("td",{className:"px-1 py-2",children:i.info_rekening}),e.jsx("td",{className:"px-1 py-2",align:"right",children:i.saldo_awal}),e.jsx("td",{className:"px-1 py-2",align:"right",children:i.jumlah_bayar}),e.jsx("td",{className:"px-1 py-2",align:"right",children:i.saldo_akhir})]},i.id))})]})]})})},at=({showModal:a,setShowModal:r,biayaperm:t})=>{const{data:n,setData:o,errors:l,post:i,processing:u,reset:h}=re({transpermohonan_id:t.transpermohonan.id||"",jumlah_biayaperm:t.jumlah_biayaperm.toString()||"",jumlah_bayar:t.jumlah_bayar.toString()||"",kurang_bayar:t.kurang_bayar.toString()||"",catatan_biayaperms:t.catatan_biayaperm||"",image_biayaperms:t.image_biayaperm||"",_method:"PUT"});function v(c){c.preventDefault(),ae.confirm({title:"Simpan Data",text:"apakah akan menyimpan?"}).then(s=>{s.isConfirmed&&i(route("transaksi.biayaperms.update",t.id),{onSuccess:()=>{r(!1)}})})}const f=(c,s)=>(c>s?c-s:0).toString();return d.useEffect(()=>{o(c=>({...c,transpermohonan_id:t.transpermohonan.id||"",jumlah_biayaperm:t.jumlah_biayaperm.toString()||"0",jumlah_bayar:t.jumlah_bayar.toString()||"0",kurang_bayar:t.kurang_bayar.toString()||"0",catatan_biayaperms:t.catatan_biayaperm||"",image_biayaperms:t.image_biayaperm||""}))},[t]),e.jsx(ne,{show:a,maxWidth:"md",closeable:!1,onClose:()=>r(!1),children:e.jsx("div",{className:"p-4 bg-blueGray-100 rounded-md",children:e.jsxs("form",{onSubmit:v,children:[e.jsx("h1",{className:"font-bold text-xl text-blueGray-700 mb-4",children:"EDIT BIAYA PERMOHONAN"}),e.jsx(R,{name:"jumlah_biayaperm",label:"Jumlah Biaya",errors:l.jumlah_biayaperm,value:n.jumlah_biayaperm,onValueChange:c=>o(s=>({...s,jumlah_biayaperm:c.value,kurang_bayar:f(Number.parseInt(c.value),Number.parseInt(n.jumlah_bayar))}))}),e.jsx(R,{name:"jumlah_bayar",disabled:!0,label:"Jumlah Bayar",errors:l.jumlah_bayar,value:n.jumlah_bayar,onValueChange:c=>o(s=>({...s,jumlah_bayar:c.value,kurang_bayar:f(Number.parseInt(n.jumlah_biayaperm),Number.parseInt(c.value))}))}),e.jsx(R,{name:"kurang_bayar",label:"Kurang Bayar",disabled:!0,errors:l.kurang_bayar,value:n.kurang_bayar,onValueChange:c=>{o("kurang_bayar",c.value)}}),e.jsx(te,{name:"catatan_biayaperm",label:"Catatan",errors:l.catatan_biayaperms,value:n.catatan_biayaperms,onChange:c=>o("catatan_biayaperms",c.target.value)}),e.jsxs("div",{className:"mt-4 w-full flex justify-between items-center",children:[e.jsx(pe,{theme:"black",loading:u,type:"submit",children:e.jsx("span",{children:"Simpan"})}),e.jsx(ee,{href:"#",theme:"blue",onClick:c=>{c.preventDefault(),r(!1)},children:e.jsx("span",{children:"Close"})})]})]})})})};function tt({title:a,titleId:r,...t},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),a?d.createElement("title",{id:r},a):null,d.createElement("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const rt=d.forwardRef(tt),nt=rt;function st({title:a,titleId:r,...t},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),a?d.createElement("title",{id:r},a):null,d.createElement("path",{fillRule:"evenodd",d:"M6 4.75A.75.75 0 0 1 6.75 4h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 4.75ZM6 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 10Zm0 5.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM1.99 4.75a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1v-.01ZM1.99 15.25a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1v-.01ZM1.99 10a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1V10Z",clipRule:"evenodd"}))}const lt=d.forwardRef(st),Ce=lt;function it({title:a,titleId:r,...t},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),a?d.createElement("title",{id:r},a):null,d.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const ot=d.forwardRef(it),dt=ot;function ut({children:a,title:r}){return e.jsxs(H,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsx(H.Button,{className:"inline-flex w-full justify-center rounded-md bg-black/20 px-1 py-1 text-sm font-medium text-white hover:bg-black/30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75",children:r?e.jsx("span",{children:r}):e.jsx(nt,{className:"m-auto h-5 w-5 text-violet-200 hover:text-violet-100","aria-hidden":"true"})})}),e.jsx(na,{as:d.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(H.Items,{className:"absolute z-50 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none",children:e.jsx("div",{className:"px-1 py-1",children:a})})})]})}function ct({title:a,titleId:r,...t},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),a?d.createElement("title",{id:r},a):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mt=d.forwardRef(ct),Pe=mt;function ht({biayaperms:a}){const r=b=>{ue.delete(route("transaksi.biayaperms.destroy",[b]))},t=new URLSearchParams(window.location.search),{permohonan_id:n,transpermohonan_id:o}=z().props,[l,i]=d.useState({permohonan_id:n,transpermohonan_id:o,biayaperm_id:t.get("biayaperm_id")}),u=$e(l),[h,v]=d.useState(!1),[f,c]=d.useState(!1),[s,x]=d.useState(!1),[w,y]=d.useState(),{biayaperm:_}=z().props;return d.useEffect(()=>{if(u){const b=Object.keys(xe.pickBy(l)).length?xe.pickBy(l):{};ue.get(route(route().current()?route().current()+"":""),b,{replace:!0,preserveState:!0})}},[l]),e.jsxs("div",{className:"w-full mt-4",children:[e.jsxs("div",{className:"flex flex-row w-full px-4 justify-center items-center rounded-t-md text-xs bg-lightBlue-600 border-blueGray-400 py-2  text-lightBlue-50 font-semibold",children:[e.jsx("div",{className:"w-[5%]",children:"No"}),e.jsx("div",{className:"w-[10%]",children:"Tanggal"}),e.jsx("div",{className:"w-[25%] md:w-[12%]",children:"Jumlah Biaya"}),e.jsx("div",{className:"w-[25%] md:w-[12%]",children:"Jumlah Bayar"}),e.jsx("div",{className:"w-[25%] md:w-[12%]",children:"Kurang Bayar"}),e.jsx("div",{className:"hidden md:block w-[20%]",children:"Catatan"}),e.jsx("div",{className:"hidden md:flex md:w-[19%]",children:"User"}),e.jsx("div",{className:"w-[10%] flex justify-center items-center",children:e.jsx("span",{children:"Menu"})})]}),e.jsx("ul",{className:"list-none container-snap max-h-80 overflow-x-hidden rounded-b-md",children:a&&a.map((b,m)=>e.jsx("li",{className:"w-full flex flex-col overflow-hidden bg-lightBlue-100 px-4 border-b-2 border-lightBlue-200",children:e.jsxs("div",{className:"flex text-xs py-2 items-center justify-center font-semibold text-lightBlue-600 ",children:[e.jsx("div",{className:"w-[5%] ",children:m+1}),e.jsx("div",{className:"w-[10%]",children:b.tgl_biayaperm}),e.jsx("div",{className:"w-[20%] md:w-[12%]",children:b.jumlah_biayaperm}),e.jsx("div",{className:"w-[20%] md:w-[12%]",children:b.jumlah_bayar}),e.jsx("div",{className:"w-[20%] md:w-[12%]",children:b.kurang_bayar}),e.jsx("div",{className:"hidden md:block md:w-[20%]",children:b.catatan_biayaperm}),e.jsx("div",{className:"hidden md:flex md:w-[19%]",children:e.jsx("span",{children:b.user.name})}),e.jsx("div",{className:"w-[10%] flex justify-center items-center",children:e.jsx("div",{className:"absolute",children:e.jsxs(ut,{children:[e.jsx(H.Item,{children:({active:j})=>e.jsxs("button",{className:`${j?"bg-violet-500 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:I=>{i(p=>({...p,transpermohonan_id:b.transpermohonan.id,biayaperm_id:b.id})),v(!0)},children:[j?e.jsx(Qa,{className:"mr-2 h-5 w-5","aria-hidden":"true"}):e.jsx(qa,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Edit"]})}),e.jsx(H.Item,{children:({active:j})=>e.jsxs("button",{className:`${j?"bg-violet-500 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:I=>ae.confirm({title:"Hapus Data",text:"apakah akan menghapus?"}).then(p=>{p.isConfirmed&&r(b.id)}),children:[j?e.jsx(za,{className:"mr-2 h-5 w-5","aria-hidden":"true"}):e.jsx(Ya,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Hapus"]})}),e.jsx(H.Item,{children:({active:j})=>e.jsxs("button",{className:`${j?"bg-violet-500 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:I=>{i(p=>({...p,transpermohonan_id:b.transpermohonan.id,biayaperm_id:b.id})),c(!0)},disabled:b.kurang_bayar<=0,children:[j?e.jsx(Pe,{className:"mr-2 h-5 w-5",stroke:"#C4B5FD",fill:"none",strokeWidth:2,"aria-hidden":"true"}):e.jsx(Pe,{className:"mr-2 h-5 w-5",stroke:"#A78BFA",fill:"none",strokeWidth:2,"aria-hidden":"true"}),"Bayar"]})}),e.jsx(H.Item,{children:({active:j})=>e.jsxs("button",{className:`${j?"bg-violet-500 text-white":"text-gray-900"} group flex w-full items-center rounded-md px-2 py-2 text-sm`,onClick:I=>{y(b.id),x(!0)},children:[j?e.jsx(Ce,{className:"mr-2 h-4 w-4",stroke:"#C4B5FD",fill:"none",strokeWidth:2,"aria-hidden":"true"}):e.jsx(Ce,{className:"mr-2 h-4 w-4",stroke:"#A78BFA",fill:"none",strokeWidth:2,"aria-hidden":"true"}),"List Pembayaran"]})})]})})})]})},b.id))}),_&&e.jsxs(e.Fragment,{children:[e.jsx(at,{biayaperm:_,showModal:h,setShowModal:v}),e.jsx(Xa,{biayaperm:_,showModal:f,setShowModal:c})]}),w&&e.jsx(et,{biayaperm_id:w,showModal:s,setShowModal:x})]})}const xt=({showModal:a,setShowModal:r,transpermohonan:t})=>{const{metodebayars:n,itemkegiatansOpts:o}=z().props,{data:l,setData:i,errors:u,post:h,processing:v,reset:f}=re({transpermohonan_id:t.id||"",jumlah_keluarbiayaperm:"",itemkegiatan_id:"",itemkegiatan:void 0,akun:void 0,akun_id:"",metodebayar:n.length>0?n[0]:void 0,metodebayar_id:"",catatan_keluarbiayaperm:"",image_keluarbiayaperm:"",_method:"POST"});function c(s){s.preventDefault(),ae.confirm({title:"Simpan Data",text:"apakah akan menyimpan?"}).then(x=>{x.isConfirmed&&h(route("transaksi.keluarbiayaperms.store"),{onSuccess:()=>{r(!1)}})})}return d.useEffect(()=>{i(s=>({...s,transpermohonan_id:t.id||"",jumlah_keluarbiayaperm:"0",metodebayar_id:n.length>0?n[0].value:"",metodebayar:n.length>0?n[0]:void 0,catatan_keluarbiayaperm:"",image_keluarbiayaperm:""}))},[t]),e.jsx(ne,{show:a,maxWidth:"md",closeable:!1,onClose:()=>r(!1),children:e.jsx("div",{className:"p-4 bg-blueGray-100 rounded-md",children:e.jsxs("form",{onSubmit:c,children:[e.jsx("h1",{className:"font-bold text-xl text-blueGray-700 mb-4",children:"PENGELUARAN BIAYA"}),e.jsx(ce,{name:"metodebayar",options:n,onChange:s=>i(x=>({...x,metodebayar:s||void 0,metodebayar_id:s?s.value:""})),label:"Metode Pembayaran",value:l.metodebayar,errors:u.metodebayar_id}),e.jsx(ce,{name:"itemkegiatan",options:o,onChange:s=>i(x=>({...x,itemkegiatan:s||void 0,itemkegiatan_id:s?s.value:""})),label:"Item Kegiatan",value:l.itemkegiatan,errors:u.itemkegiatan_id}),e.jsx(R,{name:"jumlah_keluarbiayaperm",label:"Jumlah Bayar",errors:u.jumlah_keluarbiayaperm,value:l.jumlah_keluarbiayaperm,onValueChange:s=>{i("jumlah_keluarbiayaperm",s.value)}}),e.jsx(te,{name:"catatan_keluarbiayaperm",label:"Catatan",errors:u.catatan_keluarbiayaperm,value:l.catatan_keluarbiayaperm,onChange:s=>i("catatan_keluarbiayaperm",s.target.value)}),e.jsxs("div",{className:"mt-4 w-full flex justify-between items-center",children:[e.jsx(pe,{theme:"black",loading:v,type:"submit",children:e.jsx("span",{children:"Simpan"})}),e.jsx(ee,{href:"#",theme:"blue",onClick:s=>{s.preventDefault(),r(!1)},children:e.jsx("span",{children:"Close"})})]})]})})})},pt=({neracas:a,totDebet:r,totKredit:t})=>e.jsx("ul",{children:e.jsx("li",{className:"relative rounded-md p-2 hover:bg-gray-100 text-sm",children:a?e.jsxs("div",{className:"p-1 w-full flex-col",children:[e.jsx("div",{className:"w-full font-bold mb-2",children:"NERACA"}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-y-2 font-semibold bg-slate-300",children:[e.jsx("td",{width:"10%",children:"Kode"}),e.jsx("td",{width:"50%",children:"Nama Akun"}),e.jsx("td",{width:"20%",align:"right",children:"Debet"}),e.jsx("td",{width:"20%",align:"right",children:"Kredit"})]})}),e.jsx("tbody",{children:a.map((n,o)=>e.jsx("tr",{className:"border-b-2",children:Object.keys(n).map((l,i)=>e.jsx("td",{className:`${i>1?"text-right":""}`,children:n[l]},i))},o))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"font-semibold border-b-2 bg-slate-300",children:[e.jsx("td",{width:"10%",children:" "}),e.jsx("td",{width:"50%",children:"Total"}),e.jsx("td",{width:"20%",align:"right",children:r}),e.jsx("td",{width:"20%",align:"right",children:t})]})})]})]}):null})});function ft({transpermohonan:a}){const[r,t]=d.useState(),[n,o]=d.useState(),[l,i]=d.useState(!1),[u,h]=d.useState(!1),[v,f]=d.useState(!1),[c,s]=d.useState(null),[x,w]=d.useState(null),[y,_]=d.useState(null),[b,m]=d.useState(null),[j,I]=d.useState(null),[p,B]=d.useState(null),[G,S]=d.useState(),[$,k]=d.useState(),[T,J]=d.useState(),be=g=>{ue.delete(route("transaksi.keluarbiayaperms.destroy",g))},[le,ie]=d.useState(!1),ge=async(g,P=null)=>{i(!0);let D=`/transaksi/keluarbiayaperms/api/list?transpermohonan_id=${g}`;P&&(D=P);const V=(await Q.backend.get(D)).data;w(V.links.next),_(V.links.prev),t(V.data),i(!1)},De=async g=>{h(!0);let P=`/transaksi/keluarbiayaperms/api/totalpengeluaran?transpermohonan_id=${g}`;const E=(await Q.backend.get(P)).data;s(E),h(!1)},ve=async(g,P=null)=>{i(!0);let D=`/transaksi/dkeluarbiayapermusers/api/list?transpermohonan_id=${g}`;P&&(D=P);const V=(await Q.backend.get(D)).data;I(V.links.next),B(V.links.prev),o(V.data)},Le=async g=>{h(!0);let P=`/transaksi/dkeluarbiayapermusers/api/totalpengeluaran?transpermohonan_id=${g}`;const E=(await Q.backend.get(P)).data;m(E)},Fe=async g=>{f(!0);let P=`/transaksi/jurnalumums/api/neracapermohonan?transpermohonan_id=${g}`;const E=(await Q.backend.get(P)).data;S(E.neracas),k(E.totDebet),J(E.totKredit),f(!1)};d.useEffect(()=>{a&&Promise.all([ge(a.id),De(a.id),ve(a.id),Le(a.id),Fe(a.id)])},[a]);function ye(...g){return g.filter(Boolean).join(" ")}return e.jsxs("div",{className:"w-full px-1 py-1 sm:px-0",children:[e.jsxs(L.Group,{children:[e.jsxs(L.List,{className:"flex space-x-1 rounded-xl bg-blue-900/20 p-2",children:[e.jsx(L,{className:({selected:g})=>ye("w-full rounded-lg py-2.5 text-sm font-medium leading-5","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",g?"bg-white text-blue-700 shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"),children:"Pengeluaran"}),e.jsx(L,{className:({selected:g})=>ye("w-full rounded-lg py-2.5 text-sm font-medium leading-5","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",g?"bg-white text-blue-700 shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"),children:"Pengeluaran Staf"}),e.jsx(L,{className:({selected:g})=>ye("w-full rounded-lg py-2.5 text-sm font-medium leading-5","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",g?"bg-white text-blue-700 shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"),children:"Neraca"})]}),e.jsxs(L.Panels,{className:"mt-2",children:[e.jsx(L.Panel,{className:"rounded-xl bg-white p-3 ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",children:e.jsx("ul",{children:e.jsxs("li",{className:"relative rounded-md py-1 px-2 hover:bg-gray-100",children:[e.jsxs("div",{className:"w-full mt-2 flext flex-col",children:[e.jsxs("div",{className:"flex flex-row w-full px-4 justify-center items-center rounded-t-md text-xs bg-lightBlue-600 border-blueGray-400 py-2  text-lightBlue-50 font-semibold",children:[e.jsx("div",{className:"w-[5%]",children:"No"}),e.jsx("div",{className:"w-[10%]",children:"Tanggal"}),e.jsx("div",{className:"w-[35%] md:w-[15%]",children:"Metode"}),e.jsx("div",{className:"w-[35%] md:w-[20%]",children:"Item Kegiatan"}),e.jsx("div",{className:"hidden md:block w-[10%]",children:"Catatan"}),e.jsx("div",{className:"hidden md:flex md:w-[15%]",children:"User"}),e.jsx("div",{className:"w-[35%] md:w-[15%]",children:"Jumlah"}),e.jsx("div",{className:"flex md:w-[10%]",children:"Menu"})]}),e.jsxs("ul",{className:"list-none container-snap max-h-80 overflow-x-hidden rounded-b-md",children:[l&&e.jsx("div",{className:"m-auto h-24 w-full flex justify-center items-center absolute",children:e.jsx(de,{visible:!0,height:"80",width:"80",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})}),r&&r.map((g,P)=>e.jsx("li",{className:"w-full flex flex-col overflow-hidden bg-lightBlue-100 px-4 border-b-2 border-lightBlue-200",children:e.jsxs("div",{className:"flex text-xs py-1 items-center justify-center font-semibold text-lightBlue-600 ",children:[e.jsx("div",{className:"w-[5%] ",children:P+1}),e.jsx("div",{className:"w-[10%]",children:g.tgl_keluarbiayaperm}),e.jsx("div",{className:"w-[35%] md:w-[15%]",children:g.metodebayar.nama_metodebayar}),e.jsx("div",{className:"w-[35%] md:w-[20%]",children:g.itemkegiatan.nama_itemkegiatan}),e.jsx("div",{className:"hidden md:block md:w-[10%]",children:g.catatan_keluarbiayaperm}),e.jsx("div",{className:"hidden md:flex md:w-[15%]",children:e.jsx("span",{children:g.user.name})}),e.jsx("div",{className:"w-[35%] md:w-[15%]",children:g.jumlah_keluarbiayaperm}),e.jsx("div",{className:"flex md:w-[10%]",children:e.jsx("button",{onClick:D=>ae.confirm({title:"Hapus Data",text:"apakah akan menghapus?"}).then(E=>{E.isConfirmed&&be(g.id)}),className:"text-lightBlue-500 background-transparent font-bold px-3 py-0 text-xs outline-none focus:outline-none hover:text-lightBlue-100 hover:scale-105 mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:e.jsx(dt,{className:"m-auto h-4 w-4",stroke:"#58c4fa",fill:"none",strokeWidth:2})})})]})},g.id))]})]}),e.jsxs("div",{className:"flex justify-end items-center gap-2 mt-2",children:[u&&e.jsx("div",{className:"m-auto h-16 w-full flex justify-center items-center absolute",children:e.jsx(de,{visible:!0,height:"80",width:"80",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})}),e.jsxs("div",{className:"w-[79%] flex justify-between text-xs font-bold gap-2 text-blueGray-500",children:[e.jsx("span",{className:"flex justify-start items-center",children:e.jsxs(ee,{href:"#",theme:"black",className:"shrink-0 py-1 mt-0 mb-0 text-xs",onClick:g=>{g.preventDefault(),ie(!0)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"hidden md:block w-4 h-4 text-sm mr-1 ",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})}),e.jsx("span",{children:" Tambah"})]})}),c?e.jsxs("span",{className:"flex items-center",children:["Total : ",c]}):null]}),e.jsxs("div",{className:"w-[30%] md:w-[21%] flex justify-end items-center",children:[y?e.jsx("button",{className:"text-lightBlue-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:g=>ge(a.id,y),children:e.jsx("i",{className:"fa fa-chevron-left","aria-hidden":"true"})}):e.jsx("span",{className:"text-blueGray-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",children:e.jsx("i",{className:"fa fa-chevron-left","aria-hidden":"true"})}),x?e.jsx("button",{className:"text-lightBlue-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:g=>ge(a.id,x),children:e.jsx("i",{className:"fa fa-chevron-right","aria-hidden":"true"})}):e.jsx("span",{className:"text-blueGray-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",children:e.jsx("i",{className:"fa fa-chevron-right","aria-hidden":"true"})})]})]})]})})}),e.jsx(L.Panel,{className:"rounded-xl bg-white p-3 ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",children:e.jsx("ul",{children:e.jsxs("li",{className:"relative rounded-md py-1 px-2 hover:bg-gray-100",children:[e.jsxs("div",{className:"w-full mt-2 flext flex-col",children:[e.jsxs("div",{className:"flex flex-row w-full px-4 justify-center items-center rounded-t-md text-xs bg-lightBlue-600 border-blueGray-400 py-2  text-lightBlue-50 font-semibold",children:[e.jsx("div",{className:"w-[5%]",children:"No"}),e.jsx("div",{className:"w-[15%]",children:"Tanggal"}),e.jsx("div",{className:"w-[35%] md:w-[13%]",children:"Instansi"}),e.jsx("div",{className:"w-[35%] md:w-[10%]",children:"Metode"}),e.jsx("div",{className:"w-[35%] md:w-[15%]",children:"Item Kegiatan"}),e.jsx("div",{className:"md:block w-[15%]",children:"Jumlah Biaya"}),e.jsx("div",{className:"hidden md:flex md:w-[15%]",children:"Ket Biaya"}),e.jsx("div",{className:"w-[35%] md:w-[12%]",children:"User"})]}),e.jsxs("ul",{className:"list-none container-snap max-h-80 overflow-x-hidden rounded-b-md",children:[l&&e.jsx("div",{className:"m-auto h-24 w-full flex justify-center items-center absolute",children:e.jsx(de,{visible:!0,height:"80",width:"80",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})}),n&&n.map((g,P)=>e.jsx("li",{className:"w-full flex flex-col overflow-hidden bg-lightBlue-100 px-4 border-b-2 border-lightBlue-200",children:e.jsxs("div",{className:"flex text-xs py-1 items-center justify-center font-semibold text-lightBlue-600 ",children:[e.jsx("div",{className:"w-[5%] ",children:P+1}),e.jsx("div",{className:"w-[15%]",children:g.created_at}),e.jsx("div",{className:"w-[35% md:w-[13%]",children:g.instansi.nama_instansi}),e.jsx("div",{className:"w-[35%] md:w-[10%]",children:g.metodebayar.nama_metodebayar}),e.jsx("div",{className:"w-[35%] md:w-[15%]",children:g.itemkegiatan.nama_itemkegiatan}),e.jsx("div",{className:"w-[35%] md:w-[15%]",children:g.jumlah_biaya}),e.jsx("div",{className:"md:block md:w-[15%]",children:g.ket_biaya}),e.jsx("div",{className:"hidden md:flex md:w-[12%]",children:e.jsx("span",{children:g.user.name})})]})},g.id))]})]}),e.jsxs("div",{className:"flex justify-end items-center gap-2 mt-2",children:[u&&e.jsx("div",{className:"m-auto h-16 w-full flex justify-center items-center absolute",children:e.jsx(de,{visible:!0,height:"80",width:"80",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})}),e.jsxs("div",{className:"w-[79%] flex justify-between text-xs font-bold gap-2 text-blueGray-500",children:[e.jsx("span",{className:"flex justify-start items-center"}),c?e.jsxs("span",{className:"flex items-center",children:["Total : ",b]}):null]}),e.jsxs("div",{className:"w-[30%] md:w-[21%] flex justify-end items-center",children:[p?e.jsx("button",{className:"text-lightBlue-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:g=>ve(a.id,p),children:e.jsx("i",{className:"fa fa-chevron-left","aria-hidden":"true"})}):e.jsx("span",{className:"text-blueGray-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",children:e.jsx("i",{className:"fa fa-chevron-left","aria-hidden":"true"})}),j?e.jsx("button",{className:"text-lightBlue-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:g=>ve(a.id,j),children:e.jsx("i",{className:"fa fa-chevron-right","aria-hidden":"true"})}):e.jsx("span",{className:"text-blueGray-500 background-transparent font-bold uppercase px-2 py-1 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",children:e.jsx("i",{className:"fa fa-chevron-right","aria-hidden":"true"})})]})]})]})})}),e.jsx(L.Panel,{className:"rounded-xl bg-white p-3 ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",children:e.jsx(pt,{neracas:G,totDebet:$,totKredit:T})})]})]}),a&&e.jsx(e.Fragment,{children:e.jsx(xt,{transpermohonan:a,showModal:le,setShowModal:ie})})]})}const bt=({showModal:a,setShowModal:r})=>{const{transpermohonan:t}=z().props,{data:n,setData:o,errors:l,post:i,processing:u,reset:h}=re({transpermohonan_id:(t==null?void 0:t.id)||"",jumlah_biayaperm:"0",jumlah_bayar:"0",kurang_bayar:"0",catatan_biayaperm:"",image_biayaperms:"",_method:"POST"});function v(c){c.preventDefault(),ae.confirm({title:"Simpan Data",text:"apakah akan menyimpan?"}).then(s=>{s.isConfirmed&&i(route("transaksi.biayaperms.store"),{onSuccess:()=>{h(),r(!1)}})})}const f=(c,s)=>(c>s?c-s:0).toString();return d.useEffect(()=>{t&&o("transpermohonan_id",t.id)},[t]),e.jsx(ne,{show:a,maxWidth:"md",closeable:!1,onClose:()=>r(!1),children:e.jsx("div",{className:"p-4 bg-blueGray-100 rounded-md",children:e.jsxs("form",{onSubmit:v,children:[e.jsx("h1",{className:"font-bold text-xl text-blueGray-700 mb-4",children:"ADD BIAYA PERMOHONAN"}),e.jsx(R,{name:"jumlah_biayaperm",label:"Jumlah Biaya",errors:l.jumlah_biayaperm,autoComplete:"off",value:n.jumlah_biayaperm,onValueChange:c=>o(s=>({...s,jumlah_biayaperm:c.value,kurang_bayar:f(Number.parseInt(c.value),Number.parseInt(n.jumlah_bayar))}))}),e.jsx(R,{disabled:!0,name:"jumlah_bayar",label:"Jumlah Bayar",errors:l.jumlah_bayar,autoComplete:"off",value:n.jumlah_bayar,onValueChange:c=>o(s=>({...s,jumlah_bayar:c.value,kurang_bayar:f(Number.parseInt(n.jumlah_biayaperm),Number.parseInt(c.value))}))}),e.jsx(R,{name:"kurang_bayar",label:"Kurang Bayar",disabled:!0,errors:l.kurang_bayar,value:n.kurang_bayar,onValueChange:c=>{o("kurang_bayar",c.value)}}),e.jsx(te,{name:"catatan_biayaperm",label:"Catatan",errors:l.catatan_biayaperm,value:n.catatan_biayaperm,onChange:c=>o("catatan_biayaperm",c.target.value)}),e.jsxs("div",{className:"mt-4 w-full flex justify-between items-center",children:[e.jsx(pe,{theme:"black",loading:u,type:"submit",children:e.jsx("span",{children:"Simpan"})}),e.jsx(ee,{href:"#",theme:"blue",onClick:c=>{c.preventDefault(),r(!1)},children:e.jsx("span",{children:"Close"})})]})]})})})},gt=d.lazy(()=>Oe(()=>import("./CardPermohonan-1a857580.js"),["assets/CardPermohonan-1a857580.js","assets/app-8a2a51c8.js","assets/app-9eb761df.css"])),Wt=()=>{const{permohonan:a,biayaperms:r,transpermohonan:t,transpermohonanopt:n,transpermohonans:o,permohonan_id:l,transpermohonan_id:i}=z().props,{data:u,setData:h,errors:v,post:f,processing:c,reset:s}=re({permohonan_id:a?a.id:"",permohonan:null,jumlah_biayaperm:"",jumlah_bayar:"",kurang_bayar:"",catatan_biayaperm:"",_method:"POST"}),[x,w]=d.useState(!1),y=p=>{p&&(h({...u,permohonan_id:p.id}),b(B=>({...B,permohonan_id:p.id,transpermohonan_id:p==null?void 0:p.transpermohonan.id})))},[_,b]=d.useState({permohonan_id:l,transpermohonan_id:i}),m=$e(_),[j,I]=d.useState(!1);return d.useEffect(()=>{if(m){const p=Object.keys(xe.pickBy(_)).length?xe.pickBy(_):{};ue.get(route(route().current()?route().current()+"":""),p,{replace:!0,preserveState:!0})}},[_]),e.jsxs(sa,{children:[x?e.jsx("div",{className:"z-20 absolute h-full w-full left-0"}):null,e.jsx("div",{className:"flex content-center items-center justify-center h-full",children:e.jsx("div",{className:"w-full lg:w-10/12 px-4",children:e.jsxs("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-2 shadow-lg shadow-slate-400 rounded-lg bg-blueGray-200 border-0",children:[e.jsx("div",{className:"rounded-t mt-2 px-4",children:e.jsx("div",{className:"text-center",children:e.jsx("h6",{className:"text-blueGray-500 text-lg font-bold",children:"BIAYA PERMOHONAN"})})}),e.jsxs("div",{className:"flex-auto px-4 py-2",children:[e.jsx("div",{className:"flex flex-col md:flex-row items-center w-full gap-1",children:e.jsx(ea,{isStaf:!1,className:`w-full ${x?"z-10":""}`,value:a,onValueChange:y,errors:v.permohonan_id})}),e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex items-center justify-center h-52 m-auto",children:"Loading..."})}),children:e.jsx("div",{children:a?e.jsx(gt,{permohonan:a}):null})}),a?e.jsxs("div",{className:"bg-blueGray-300 rounded-md shadow-md py-2 px-2 flex justify-between items-center",children:[e.jsx("div",{className:"w-1/2 md:w-1/3",children:e.jsx(ce,{options:o,value:n,onChange:p=>b(B=>({...B,transpermohonan_id:p?p.value:""})),className:"mb-0",placeholder:"Pilih Jenis Permohonan"})}),e.jsxs(ee,{href:"#",theme:"black",className:"shrink-0 py-2 mt-1  mb-0 text-xs",onClick:p=>{p.preventDefault(),I(!0)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"hidden md:block w-4 h-4 text-sm mr-1 ",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})}),e.jsx("span",{children:" Tambah"})]})]}):null,r&&r.length>0?e.jsx(ht,{biayaperms:r}):null,t&&e.jsx(e.Fragment,{children:e.jsx(ft,{transpermohonan:t})})]})]})})}),e.jsx(bt,{showModal:j,setShowModal:I})]})};export{Wt as default};
