import{r as i,P as w,j as e,f as o}from"./app-aaeec304.js";import{t as E}from"./bundle-mjs-11609d99.js";import{l as j}from"./lodash-c05fad4b.js";import{u as R}from"./useSwal-29c8e381.js";import{P as A}from"./Pagination-7aaa5c45.js";import{I}from"./InputSearch-1f13dd19.js";import{L as J}from"./LinkButton-a4d7986a.js";import{M as T}from"./ModalCetakLaporan-46044b43.js";import{M as F}from"./MenuDropdown-9535c4b7.js";import{u as H}from"./usePrevious-7bfcd75b.js";function Y({color:t="light",barangkeluars:y,className:B="",meta:d,labelLinks:N,base_route:s,is_admin:c}){const n=new URLSearchParams(window.location.search),[l,h]=i.useState({search:n.get("search"),sortBy:n.get("sortBy"),sortDir:n.get("sortDir")}),G=H(l);function p({sortBy:r,sortDir:a}){h(x=>({...x,sortBy:r,sortDir:a}))}const u=({sortBy:r,sortDir:a})=>l.sortBy===r&&a==="asc"?e.jsx("i",{className:"fa-solid fa-sort-up"}):l.sortBy===r&&a==="desc"?e.jsx("i",{className:"fa-solid fa-sort-down"}):e.jsx("i",{className:"fa-solid fa-sort"}),k=r=>{w.delete(route(s+"barangkeluars.destroy",r))},[g,v]=i.useState(),[D,m]=i.useState(!1);i.useEffect(()=>{if(G){const r=Object.keys(j.pickBy(l)).length?j.pickBy(l):{};w.get(route(route().current()?route().current()+"":""),r,{replace:!0,preserveState:!0})}},[l]);function S(r,a){r.preventDefault(),v(a),m(!0)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:E("relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg shadow-slate-700 rounded-md py-1 ",t==="light"?"bg-white":"bg-lightBlue-900 text-white",B),children:[e.jsx("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",children:e.jsx("h3",{className:"font-semibold text-lg "+(t==="light"?"text-blueGray-700":"text-white"),children:"DAFTAR BARANG KELUAR"})}),e.jsxs("div",{className:"flex justify-center gap-2 flex-row items-start",children:[e.jsx(I,{value:l.search?l.search:"",onChange:r=>h(a=>({...a,search:r.target.value}))}),e.jsx(J,{theme:"blue",href:route(s+"barangkeluars.create"),children:e.jsx("span",{children:"New "})})]})]})}),e.jsx("div",{className:"block w-full overflow-x-auto",children:e.jsxs("table",{className:"items-center w-full bg-transparent border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(o,{href:"#",onClick:r=>p({sortBy:"id",sortDir:l.sortDir==="asc"?"desc":"asc"}),children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{children:"No"}),e.jsx(u,{sortBy:"id",sortDir:l.sortDir||""})]})})}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(o,{href:"#",onClick:r=>p({sortBy:"created_at",sortDir:l.sortDir==="asc"?"desc":"asc"}),children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{children:"Tanggal"}),e.jsx(u,{sortBy:"created_at",sortDir:l.sortDir||""})]})})}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"No Polisi"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Kode Penjualan"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Supplier"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Jenis"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Jumlah"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Jumlah Terima"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Options"})]})}),e.jsx("tbody",{children:y.map(({id:r,created_at:a,no_pol:x,penjualan:b,jumlah_muatan:C,jumlah_keluar:L},M)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:r}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:a}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:x}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:b.kode_penjualan}),e.jsxs("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:[e.jsx("i",{className:"fas fa-user text-orange-500 mr-2"})," ",b.client.nama_client]}),e.jsxs("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:[e.jsx("i",{className:"fas fa-box-archive text-orange-500 mr-2"})," ",b.barang.nama_barang]}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:C}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:L}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap py-4 ",children:e.jsxs(F,{children:[c&&e.jsxs(o,{href:route(s+"barangkeluars.edit",r),className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700 hover:text-blue-400 transition hover:scale-110 origin-top-left ",type:"button",children:[e.jsx("i",{className:"fas fa-edit"}),e.jsx("span",{children:" Edit"})]}),c&&e.jsxs("a",{href:"#",onClick:f=>R.confirm({title:"Hapus Data",text:"apakah akan menghapus?"}).then(P=>{P.isConfirmed&&k(r)}),className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700 hover:text-blue-400 transition hover:scale-110 origin-top-left",children:[e.jsx("i",{className:"fas fa-trash"}),e.jsx("span",{children:" Hapus"})]}),e.jsxs(o,{href:"#",onClick:f=>{S(f,r)},className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700 hover:text-blue-400 transition hover:scale-110 origin-top-left ",children:[e.jsx("i",{className:"fas fa-print"}),e.jsx("span",{children:" Surat Jalan"})]})]})})]},M))})]})}),d.total>d.per_page?e.jsx("div",{className:"flex justify-end px-2 py-1  "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(A,{links:d.links,labelLinks:N})}):null]}),g&&e.jsx(T,{showModal:D,setShowModal:m,src:route(s+"barangkeluars.laporan.suratjalan",g)})]})}export{Y as C};
