import{r as l}from"./app-aaeec304.js";import{h as E,T as p,b as L}from"./description-291c7632.js";import{s as v,o as g}from"./use-flags-574e1cba.js";function y(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function b(){return/Android/gi.test(window.navigator.userAgent)}function h(){return y()||b()}function m(e,n,o){let u=v(n);l.useEffect(()=>{function i(c){u.current(c)}return document.addEventListener(e,i,o),()=>document.removeEventListener(e,i,o)},[e,o])}function M(e,n,o){let u=v(n);l.useEffect(()=>{function i(c){u.current(c)}return window.addEventListener(e,i,o),()=>window.removeEventListener(e,i,o)},[e,o])}function x(e,n,o=!0){let u=l.useRef(!1);l.useEffect(()=>{requestAnimationFrame(()=>{u.current=o})},[o]);function i(t,a){if(!u.current||t.defaultPrevented)return;let r=a(t);if(r===null||!r.getRootNode().contains(r)||!r.isConnected)return;let w=function s(d){return typeof d=="function"?s(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let s of w){if(s===null)continue;let d=s instanceof HTMLElement?s:s.current;if(d!=null&&d.contains(r)||t.composed&&t.composedPath().includes(d))return}return!E(r,p.Loose)&&r.tabIndex!==-1&&t.preventDefault(),n(t,r)}let c=l.useRef(null);m("pointerdown",t=>{var a,r;u.current&&(c.current=((r=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:r[0])||t.target)},!0),m("mousedown",t=>{var a,r;u.current&&(c.current=((r=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:r[0])||t.target)},!0),m("click",t=>{h()||c.current&&(i(t,()=>c.current),c.current=null)},!0),m("touchend",t=>i(t,()=>t.target instanceof HTMLElement?t.target:null),!0),M("blur",t=>i(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function C(...e){return l.useMemo(()=>L(...e),[...e])}function H(e,n){let o=l.useRef([]),u=g(e);l.useEffect(()=>{let i=[...o.current];for(let[c,t]of n.entries())if(o.current[c]!==t){let a=u(n,i);return o.current=n,a}},[u,...n])}function P(e){function n(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let f=[];P(()=>{function e(n){n.target instanceof HTMLElement&&n.target!==document.body&&f[0]!==n.target&&(f.unshift(n.target),f=f.filter(o=>o!=null&&o.isConnected),f.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});export{y as a,h as b,H as m,C as n,M as s,f as t,x as y};
