import{J as P,r as p,P as g,j as e,f as h}from"./app-8a2a51c8.js";import{A as T}from"./AdminLayout-96d458bc.js";import{t as E}from"./bundle-mjs-11609d99.js";import{l as f}from"./lodash-aaf2e0ec.js";import{u as I}from"./useSwal-381cd456.js";import{P as O}from"./Pagination-fb68eb83.js";import{I as A}from"./InputSearch-70d934fb.js";import{L as R}from"./LinkButton-eaba230a.js";import{S as V}from"./SelectSearch-c2539244.js";import{u as q}from"./usePrevious-2581348e.js";import"./NotificationDropdown-3e1ff87d.js";import"./ResponsiveNavLink-42824ad3.js";import"./MenuItem-d7945933.js";import"./index-dafd4053.js";import"./react-select.esm-5d079b1e.js";import"./emotion-element-c39617d8.browser.esm-49af1451.js";function F({color:l="light",clients:i,className:o="",meta:a,labelLinks:n,base_route:b}){const d=new URLSearchParams(window.location.search),{tipe_client:j,tipeclientOpt:y,tipeclientOpts:w}=P().props,[r,c]=p.useState({search:d.get("search"),sortBy:d.get("sortBy"),sortDir:d.get("sortDir"),tipe_client:j||""}),B=q(r);function u({sortBy:t,sortDir:s}){c(x=>({...x,sortBy:t,sortDir:s}))}const m=({sortBy:t,sortDir:s})=>r.sortBy===t&&s==="asc"?e.jsx("i",{className:"fa-solid fa-sort-up"}):r.sortBy===t&&s==="desc"?e.jsx("i",{className:"fa-solid fa-sort-down"}):e.jsx("i",{className:"fa-solid fa-sort"}),[N,v]=p.useState(y),G=t=>{g.delete(route("admin.clients.destroy",t))},k=t=>{v(t),c(s=>({...s,tipe_client:t.value}))};return p.useEffect(()=>{if(B){const t=Object.keys(f.pickBy(r)).length?f.pickBy(r):{};g.get(route(route().current()?route().current()+"":""),t,{replace:!0,preserveState:!0})}},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:E("relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg shadow-slate-700 rounded-md py-1 ",l==="light"?"bg-white":"bg-lightBlue-900 text-white",o),children:[e.jsx("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",children:e.jsx("h3",{className:"font-semibold text-lg "+(l==="light"?"text-blueGray-700":"text-white"),children:"Client List"})}),e.jsxs("div",{className:"flex justify-center gap-2 flex-row items-start",children:[e.jsx(V,{className:"text-blueGray-800",options:w,value:N,onChange:t=>k(t)}),e.jsx(A,{value:r.search?r.search:"",onChange:t=>c(s=>({...s,search:t.target.value}))}),e.jsx(R,{theme:"blue",href:route(b+"clients.create"),children:e.jsx("span",{children:"New "})})]})]})}),e.jsx("div",{className:"block w-full overflow-x-auto",children:e.jsxs("table",{className:"items-center w-full bg-transparent border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(l==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(h,{href:"#",onClick:t=>u({sortBy:"kode_client",sortDir:r.sortDir==="asc"?"desc":"asc"}),children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{children:"Kode Client"}),e.jsx(m,{sortBy:"kode_client",sortDir:r.sortDir||""})]})})}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(l==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(h,{href:"#",onClick:t=>u({sortBy:"nama_client",sortDir:r.sortDir==="asc"?"desc":"asc"}),children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{children:"Nama Client"}),e.jsx(m,{sortBy:"nama_client",sortDir:r.sortDir||""})]})})}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(l==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Alamat"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(l==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"No Telp"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(l==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Tipe Client"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(l==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Options"})]})}),e.jsx("tbody",{children:i.map(({kode_client:t,id:s,nama_client:x,alamat_client:C,no_telp:D,tipe_client:S},_)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:t}),e.jsxs("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:[e.jsx("i",{className:"fas fa-circle text-orange-500 mr-2"})," ",x]}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:C}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:D}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:S}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2 ",children:e.jsxs("div",{className:"flex justify-start items-start gap-2 ",children:[e.jsx(h,{href:route(b+"clients.edit",s),className:"text-lightBlue-500 background-transparent font-bold  py-1 text-xs outline-none focus:outline-none hover:text-lightBlue-100 hover:scale-105 mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{onClick:H=>I.confirm({title:"Hapus Data",text:"apakah akan menghapus?"}).then(L=>{L.isConfirmed&&G(s)}),className:"text-lightBlue-500 background-transparent font-bold py-1 text-xs outline-none focus:outline-none hover:text-lightBlue-100 hover:scale-105 mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:e.jsx("i",{className:"fas fa-trash"})})]})})]},_))})]})}),a.total>a.per_page?e.jsx("div",{className:"flex justify-end px-2 py-1  "+(l==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(O,{links:a.links,labelLinks:n})}):null]})})}const ae=({clients:l,base_route:i})=>{const{data:o,meta:a,links:n}=l;return e.jsx(T,{children:e.jsx(F,{color:"dark",clients:o,meta:a,labelLinks:n,base_route:i})})};export{ae as default};
