import{r as c,P as p,j as e,f as n}from"./app-8a2a51c8.js";import{t as P}from"./bundle-mjs-11609d99.js";import{l as u}from"./lodash-aaf2e0ec.js";import{u as C}from"./useSwal-381cd456.js";import{P as S}from"./Pagination-fb68eb83.js";import{I as E}from"./InputSearch-70d934fb.js";import{L}from"./LinkButton-eaba230a.js";import{u as I}from"./usePrevious-2581348e.js";function T({color:t="light",pembelians:g,className:m="",meta:a,labelLinks:f,base_route:i}){const d=new URLSearchParams(window.location.search),[l,b]=c.useState({search:d.get("search"),sortBy:d.get("sortBy"),sortDir:d.get("sortDir")}),y=I(l);function x({sortBy:r,sortDir:s}){b(o=>({...o,sortBy:r,sortDir:s}))}const h=({sortBy:r,sortDir:s})=>l.sortBy===r&&s==="asc"?e.jsx("i",{className:"fa-solid fa-sort-up"}):l.sortBy===r&&s==="desc"?e.jsx("i",{className:"fa-solid fa-sort-down"}):e.jsx("i",{className:"fa-solid fa-sort"}),j=r=>{p.delete(route(i+"pembelians.destroy",r))};return c.useEffect(()=>{if(y){const r=Object.keys(u.pickBy(l)).length?u.pickBy(l):{};p.get(route(route().current()?route().current()+"":""),r,{replace:!0,preserveState:!0})}},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:P("relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg shadow-slate-700 rounded-md py-1 ",t==="light"?"bg-white":"bg-lightBlue-900 text-white",m),children:[e.jsx("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",children:e.jsx("h3",{className:"font-semibold text-lg "+(t==="light"?"text-blueGray-700":"text-white"),children:"DAFTAR PEMBELIAN"})}),e.jsxs("div",{className:"flex justify-center gap-2 flex-row items-start",children:[e.jsx(E,{value:l.search?l.search:"",onChange:r=>b(s=>({...s,search:r.target.value}))}),e.jsx(L,{theme:"blue",href:route(i+"pembelians.create"),children:e.jsx("span",{children:"New "})})]})]})}),e.jsx("div",{className:"block w-full overflow-x-auto",children:e.jsxs("table",{className:"items-center w-full bg-transparent border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(n,{href:"#",onClick:r=>x({sortBy:"id",sortDir:l.sortDir==="asc"?"desc":"asc"}),children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{children:"No"}),e.jsx(h,{sortBy:"id",sortDir:l.sortDir||""})]})})}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(n,{href:"#",onClick:r=>x({sortBy:"kode_pembelian",sortDir:l.sortDir==="asc"?"desc":"asc"}),children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("span",{children:"Kode Pembelian"}),e.jsx(h,{sortBy:"kode_pembelian",sortDir:l.sortDir||""})]})})}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Supplier"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Jenis"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Jumlah"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Harga/Kg"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Ongkos/Kg"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Jenis Muatan"}),e.jsx("th",{className:"px-4 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:"Options"})]})}),e.jsx("tbody",{children:g.map(({id:r,kode_pembelian:s,jumlah_pembelian:o,harga_perkg:w,ongkos_perkg:B,jenis_muatan:N,client:G,barang:v},k)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:r}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:s}),e.jsxs("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:[e.jsx("i",{className:"fas fa-users text-orange-500 mr-2"})," ",G.nama_client]}),e.jsxs("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:[e.jsx("i",{className:"fas fa-box-archive text-orange-500 mr-2"})," ",v.nama_barang]}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:o}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:w}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:B}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2",children:N}),e.jsx("td",{className:"border-t-0 px-4 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-2 ",children:e.jsxs("div",{className:"flex justify-start items-start gap-2 ",children:[e.jsx(n,{href:route(i+"pembelians.edit",r),className:"text-lightBlue-500 background-transparent font-bold  py-1 text-xs outline-none focus:outline-none hover:text-lightBlue-100 hover:scale-105 mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{onClick:R=>C.confirm({title:"Hapus Data",text:"apakah akan menghapus?"}).then(D=>{D.isConfirmed&&j(r)}),className:"text-lightBlue-500 background-transparent font-bold py-1 text-xs outline-none focus:outline-none hover:text-lightBlue-100 hover:scale-105 mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:e.jsx("i",{className:"fas fa-trash"})})]})})]},k))})]})}),a.total>a.per_page?e.jsx("div",{className:"flex justify-end px-2 py-1  "+(t==="light"?"bg-blueGray-50 text-blueGray-500 border-blueGray-100":"bg-lightBlue-800 text-lightBlue-300 border-lightBlue-700"),children:e.jsx(S,{links:a.links,labelLinks:f})}):null]})})}export{T as C};
