import{r as i,j as e,a as b,m as h}from"./app-8a2a51c8.js";import{M as g}from"./Modal-8b6796a7.js";import{a as j,C as y}from"./emotion-element-c39617d8.browser.esm-49af1451.js";import{$ as x}from"./module-15f622ee.js";const w=({children:l,src:c,...u})=>{var n,a,s,o;const[t,p]=i.useState(null),[m,d]=i.useState(!0),f=j({key:"css",container:(a=(n=t==null?void 0:t.contentWindow)==null?void 0:n.document)==null?void 0:a.head,prepend:!0}),r=(o=(s=t==null?void 0:t.contentWindow)==null?void 0:s.document)==null?void 0:o.body;return e.jsx(y,{value:f,children:e.jsxs(e.Fragment,{children:[e.jsx("iframe",{...u,ref:p,className:"w-full h-600-px",src:c,onLoad:()=>d(!1),loading:"lazy",children:r&&b.createPortal(l,r)}),m?e.jsx("div",{className:"m-auto h-full w-full flex justify-center items-center absolute",children:e.jsx(x,{visible:!0,height:"80",width:"80",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})}):null]})})},k=({showModal:l,setShowModal:c,src:u})=>{const[t,p]=i.useState(),[m,d]=i.useState(!1),f=r=>{const n=r.substring(28),a=atob(n);let s=a.length,o=new Uint8Array(s);for(;s--;)o[s]=a.charCodeAt(s);return new Blob([o],{type:"application/pdf"})};return i.useEffect(()=>{d(!0),l&&(async()=>{const a=(await h.backend.get(u)).data;p(URL.createObjectURL(f(a))),d(!1)})()},[l]),e.jsx(g,{show:l,maxWidth:"2xl",closeable:!0,onClose:()=>c(!1),children:e.jsxs("div",{className:"p-4 bg-blueGray-100 rounded-md text-xs",children:[e.jsxs("div",{className:"w-full absolute right-1 top-1 flex justify-between items-center px-1",children:[e.jsx("h1",{className:"text-lg mb-2 font-semibold text-blueGray-500 ml-4 ",children:"Cetak Laporan"}),e.jsx("button",{className:"text-lightBlue-500 background-transparent font-bold uppercase px-0 py-0 text-xl outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:r=>c(!1),children:e.jsx("i",{className:"fa fa-times-circle","aria-hidden":"true"})})]}),m&&e.jsx("div",{className:"m-auto mt-6 h-16 w-full flex justify-center items-center absolute z-50",children:e.jsx(x,{visible:!0,height:"80",width:"80",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})}),e.jsx("div",{className:"w-full relative bg-slate-500 rounded-sm mt-6",children:t?e.jsx(w,{src:t,title:"Laporan"}):null})]})})};export{k as M};
